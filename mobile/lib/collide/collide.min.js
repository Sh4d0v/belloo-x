!function(a){if("object"==typeof exports&&"undefined"!=typeof module){module.exports=a()}else{if("function"==typeof define&&define.amd){define([],a)}else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self),b.collide=a()}}}(function(){var a,d,c;return(function b(k,f,h){function j(m,n){if(!f[m]){if(!k[m]){var i=typeof require=="function"&&require;if(!n&&i){return i(m,!0)}if(e){return e(m,!0)}throw new Error("Cannot find module '"+m+"'")}var l=f[m]={exports:{}};k[m][0].call(l.exports,function(o){var p=k[m][1][o];return j(p?p:o)},l,l.exports,b,k,f,h)}return f[m].exports}var e=typeof require=="function"&&require;for(var g=0;g<h.length;g++){j(h[g])}return j})({1:[function(e,g,f){(function(h){(function(){var i,j,k;if((typeof performance!=="undefined"&&performance!==null)&&performance.now){g.exports=function(){return performance.now()}}else{if((typeof h!=="undefined"&&h!==null)&&h.hrtime){g.exports=function(){return(i()-k)/1000000};j=h.hrtime;i=function(){var l;l=j();return l[0]*1000000000+l[1]};k=i()}else{if(Date.now){g.exports=function(){return Date.now()-k};k=Date.now()}else{g.exports=function(){return new Date().getTime()-k};k=new Date().getTime()}}}}).call(this)}).call(this,e("qhDIRT"))},{qhDIRT:13}],2:[function(e,n,g){var o=e("performance-now"),j=typeof window==="undefined"?{}:window,s=["moz","webkit"],r="AnimationFrame",q=j["request"+r],f=j["cancel"+r]||j["cancelRequest"+r];for(var k=0;k<s.length&&!q;k++){q=j[s[k]+"Request"+r];f=j[s[k]+"Cancel"+r]||j[s[k]+"CancelRequest"+r]}if(!q||!f){var m=0,l=0,p=[],h=1000/60;q=function(t){if(p.length===0){var i=o(),u=Math.max(0,h-(i-m));m=u+i;setTimeout(function(){var v=p.slice(0);p.length=0;for(var w=0;w<v.length;w++){if(!v[w].cancelled){v[w].callback(m)}}},u)}p.push({handle:++l,callback:t,cancelled:false});return l};f=function(t){for(var u=0;u<p.length;u++){if(p[u].handle===t){p[u].cancelled=true}}}}n.exports=function(){return q.apply(j,arguments)};n.exports.cancel=function(){f.apply(j,arguments)}},{"performance-now":3}],3:[function(e,g,f){g.exports=e(1)},{qhDIRT:13}],4:[function(e,s,q){var t=e("./core/timeline");var n=e("./core/dynamics");var o=e("./core/easing-functions");var u=e("./util/uid");var p=e("./util/simple-emitter");function l(x,y,w){return Math.max(x,Math.min(y,w))}var v=0.0075;s.exports=f;function f(x){if(!(this instanceof f)){return new f(x)}var z=this;x=x||{};this._={id:u(),percent:0,duration:500,reverse:false,distance:100,deceleration:0.998};var w=this._.emitter=new p();this._.onDestroy=function(){w.emit("destroy")};this._.onStop=function(A){w.emit("stop",A);A&&w.emit("complete")};this._.onStart=function(){w.emit("start")};var y=10000;this._.onStep=function(A){w.emit("step",Math.round(A*y)/y)};x.duration&&this.duration(x.duration);x.percent&&this.percent(x.percent);x.easing&&this.easing(x.easing);x.reverse&&this.reverse(x.reverse);x.distance&&this.distance(x.distance);z._tick=function(B){var C=z._;C.onStep(k(z,C.percent));if(Math.abs(C.velocity)<v){C.velocity=0;return z.stop()}if(C.percent===h(z)){return z.stop()}if(!B){}else{if(C.velocity){var D=m(C.velocity,B,C.deceleration);var A=C.percent*C.distance;C.percent=(A-D)/C.distance;if(C.percent>1||C.percent<0){C.percent=l(0,C.percent,1);C.velocity=0}C.velocity=D}else{if(C.reverse){C.percent=C.percent-(B/C.duration)}else{C.percent=C.percent+(B/C.duration)}}}C.percent=l(0,C.percent,1)}}f.prototype={reverse:function(w){if(arguments.length){this._.reverse=!!w;return this}return this._.reverse},easing:function(w){var x=typeof w;if(arguments.length){if(x==="function"||x==="string"||x==="object"){this._.easing=r(w)}return this}return this._.easing},percent:function(x,w){var y=this;if(arguments.length){if(typeof x==="number"){this._.percent=l(0,x,1)}if(!this.isRunning()){if(w){this._tick()}else{t.tickAction(this._.id,function(){y._tick();t.untickAction(y._.id)})}}return this}return this._.percent},distance:function(w){if(arguments.length){if(typeof w==="number"&&w>0){this._.distance=w}return this}return this._.distance},deceleration:function(w){if(arguments.length){if(typeof w==="number"&&w>0&&w<1){this._.deceleration=w}return this}return this._.deceleration},duration:function(w){if(arguments.length){if(typeof w==="number"&&w>0){this._.duration=w}return this}return this._.duration},isRunning:function(){return !!this._.isRunning},promise:function(){var w=this;return{then:function(x){w.once("stop",x)}}},on:function(w,x){this._.emitter.on(w,x);return this},once:function(w,x){this._.emitter.once(w,x);return this},off:function(w,x){this._.emitter.off(w,x);return this},destroy:function(){this.stop();this._.onDestroy();this.off();return this},stop:function(){if(!this._.isRunning){return}this._.isRunning=false;t.untickAction(this._.id);this._.onStop(i(this));return this},restart:function(w){if(this._.isRunning){return}this._.percent=j(this);return this.start(!!w)},start:function(w){return g(this,w)},velocity:function(x,w){this._.velocity=x;return g(this,w)},};function g(w,x){if(x){w._tick()}w._.isRunning=true;t.tickAction(w._.id,w._tick);w._.onStart();return w}function i(w){return !w._.isRunning&&w._.percent===h(w)}function h(w){return w._.reverse?0:1}function j(w){return w._.reverse?1:0}function k(w,x){if(w._.easing){return w._.easing(x,w._.duration)}return x}function m(z,x,w){var y=Math.pow(w,x);return z*y}function r(x){if(typeof x==="object"){var w=typeof x.type==="string"&&x.type.toLowerCase().trim();if(!n[w]){throw new Error('Invalid easing dynamics object type "'+x.type+'". Available dynamics types: '+Object.keys(n).join(", ")+".")}return n[w](x)}else{if(typeof x==="string"){x=x.toLowerCase().trim();if(x.indexOf("cubic-bezier(")===0){var z=x.replace("cubic-bezier(","").replace(")","").split(",").map(function(A){return A.trim()});return o["cubic-bezier"](z[0],z[1],z[2],z[3])}else{var y=o[x];if(!y){throw new Error('Invalid easing function "'+x+'". Available easing functions: '+Object.keys(o).join(", ")+".")}return o[x]()}}else{if(typeof x==="function"){return x}}}}},{"./core/dynamics":6,"./core/easing-functions":7,"./core/timeline":8,"./util/simple-emitter":11,"./util/uid":12}],5:[function(e,l,k){l.exports={linear:n(0,0,1,1),ease:n(0.25,0.1,0.25,1),easeIn:n(0.42,0,1,1),easeOut:n(0,0,0.58,1),easeInOut:n(0.42,0,0.58,1),cubicBezier:function(o,p,q,r){return n(o,p,q,r)}};function f(o){return o*o*o}function g(o){return 3*o*o*(1-o)}function h(o){return 3*o*(1-o)*(1-o)}function i(o){return(1-o)*(1-o)*(1-o)}var j=400;function m(o){return 1/(200*o)}function n(u,v,w,x){var s=3*u;var q=3*(w-u)-s;var o=1-s-q;var t=3*v;var r=3*(x-v)-t;var p=1-t-r;var z=function(D){return((o*D+q)*D+s)*D};var A=function(D){return((p*D+r)*D+t)*D};var y=function(D){return(3*o*D+2*q)*D+s};var C=function(J,E){var G;var H;var I;var K;var D;var F;for(I=J,F=0;F<8;F++){K=z(I)-J;if(Math.abs(K)<E){return I}D=y(I);if(Math.abs(D)<1e-06){break}I=I-K/D}G=0;H=1;I=J;if(I<G){return G}if(I>H){return H}while(G<H){K=z(I);if(Math.abs(K-J)<E){return I}if(J>K){G=I}else{H=I}I=(H-G)*0.5+G}return I};var B=function(E,D){return A(C(E,D))};return function(E,D){return B(E,m(+D||j))}}},{}],6:[function(e,k,h){var i=e("../util/extend");k.exports={spring:g,gravity:f};var l={frequency:15,friction:200,anticipationStrength:0,anticipationSize:0};function g(n){n=i({},l,n||{});return function m(E,y){var q,u,p,r,w,x,z,B,C,D,F,G,H,o=n;z=Math.max(1,n.frequency);B=Math.pow(20,n.friction/100);D=n.anticipationSize/100;x=Math.max(0,D);C=(E/(1-D))-(D/(1-D));if(E<D){q=function(I){var A,s,v,J,K;A=0.8;J=D/(1-D);K=0;v=(J-(A*K))/(J-K);s=(A-v)/J;return(s*I*o.anticipationStrength/100)+v};H=(D/(1-D))-(D/(1-D));G=(0/(1-D))-(D/(1-D));w=Math.acos(1/q(H));p=(Math.acos(1/q(G))-w)/(z*(-D))}else{q=function(s){return Math.pow(B/10,-s)*(1-s)};w=0;p=1}u=q(C);r=z*(E-D)*p+w;F=1-(u*Math.cos(r));return F}}var j={bounce:40,gravity:1000,initialForce:false};function f(r){r=i({},j,r||{});var o=[];p();return m;function q(){var w,s,t,u,v;t=Math.min(r.bounce/100,80);v=r.gravity/100;s=Math.sqrt(2/v);u={a:-s,b:s,H:1};
if(r.initialForce){u.a=0;u.b=u.b*2}while(u.H>0.001){w=u.b-u.a;u={a:u.b,b:u.b+w*t,H:u.H*t*t}}return u.b}function p(){var x,t,u,v,w,s;x=q();w=(r.gravity/100)*x*x;u=Math.min(r.bounce/100,80);t=Math.sqrt(2/w);o=[];v={a:-t,b:t,H:1};if(r.initialForce){v.a=0;v.b=v.b*2}o.push(v);s=[];while(v.b<1&&v.H>0.001){x=v.b-v.a;v={a:v.b,b:v.b+x*u,H:v.H*u*u};s.push(o.push(v))}return s}function n(s,u,w,y){var x,v,z;x=u-s;z=(2/x)*y-1-(s*2/x);v=z*z*w-w+1;if(r.initialForce){v=1-v}return v}function m(z,w){var s,u,x,y,A;s=r.bounce/100;x=r.gravity;y=0;u=o[y];while(!(z>=u.a&&z<=u.b)){y+=1;u=o[y];if(!u){break}}if(!u){A=r.initialForce?0:1}else{A=n(u.a,u.b,u.H,z)}return A}}},{"../util/extend":10}],7:[function(e,i,h){var g=e("./dynamics");var f=e("./bezier");i.exports={linear:function(){return function(k,j){return f.linear(k,j)}},ease:function(){return function(k,j){return f.ease(k,j)}},"ease-in":function(){return function(k,j){return f.easeIn(k,j)}},"ease-out":function(){return function(k,j){return f.easeOut(k,j)}},"ease-in-out":function(){return function(k,j){return f.easeInOut(k,j)}},"cubic-bezier":function(l,n,m,o,k){var j=f.cubicBezier(l,n,m,o);return function(q,p){return j(q,p)}}}},{"./bezier":5,"./dynamics":6}],8:[function(e,g,f){var h=e("raf");var j=e("performance-now");var i=g.exports={_actions:{},isTicking:false,tickAction:function(l,k){i._actions[l]=k;if(!i.isTicking){i.tick()}},untickAction:function(k){delete i._actions[k];i.maybeStopTicking()},tick:function(){var k=j();i.isTicking=true;i._rafId=h(l);function l(){i._rafId=h(l);var o=j();var m=o-k;for(var n in i._actions){i._actions[n](m)}k=o}},maybeStopTicking:function(){if(i.isTicking&&!Object.keys(i._actions).length){h.cancel(i._rafId);i.isTicking=false}},}},{"performance-now":1,raf:2}],9:[function(e,g,f){g.exports={animation:e("./animation")}},{"./animation":4}],10:[function(e,h,f){h.exports=function g(l){var j=Array.prototype.slice.call(arguments,1);for(var k=0;k<j.length;k++){var n=j[k];if(n){for(var m in n){l[m]=n[m]}}}return l}},{}],11:[function(e,g,f){g.exports=h;function h(){this.listeners=[]}h.prototype={on:function(i,j){if(typeof j!=="function"){return}this.listeners[i]||(this.listeners[i]=[]);this.listeners[i].push(j)},once:function(i,j){var l=this;function k(){l.off(i,j);l.off(i,k)}this.on(i,j);this.on(i,k)},emit:function(k,j){var n=this.listeners[k]||[];var l=0;var m=n.length;if(arguments.length===2){for(l;l<m;l++){n[l]&&n[l](j)}}else{for(l;l<m;l++){n[l]&&n[l]()}}},off:function(i,j){if(!i){for(var m in this.listeners){this.off(m)}}else{var l=this.listeners[i];if(l){if(!j){l.length=0}else{var k=l.indexOf(j);l.splice(k,1)}}}}}},{}],12:[function(e,g,f){var i=[];g.exports=function h(){var k=i.length;var j;while(k){k--;j=i[k].charCodeAt(0);if(j==57){i[k]="A";return i.join("")}if(j==90){i[k]="0"}else{i[k]=String.fromCharCode(j+1);return i.join("")}}i.unshift("0");return i.join("")}},{}],13:[function(e,g,f){var i=g.exports={};i.nextTick=(function(){var k=typeof window!=="undefined"&&window.setImmediate;var j=typeof window!=="undefined"&&window.postMessage&&window.addEventListener;if(k){return function(n){return window.setImmediate(n)}}if(j){var m=[];window.addEventListener("message",function(n){var p=n.source;if((p===window||p===null)&&n.data==="process-tick"){n.stopPropagation();if(m.length>0){var o=m.shift();o()}}},true);return function l(n){m.push(n);window.postMessage("process-tick","*")}}return function l(n){setTimeout(n,0)}})();i.title="browser";i.browser=true;i.env={};i.argv=[];function h(){}i.on=h;i.addListener=h;i.once=h;i.off=h;i.removeListener=h;i.removeAllListeners=h;i.emit=h;i.binding=function(j){throw new Error("process.binding is not supported")};i.cwd=function(){return"/"};i.chdir=function(j){throw new Error("process.chdir is not supported")}},{}]},{},[9])(9)});